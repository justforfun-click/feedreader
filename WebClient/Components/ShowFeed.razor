@inject FeedService FeedService

<div class="show-feed">
    <div class="feed-description">
        <a class="name" href="@Feed.Uri" target="_blank">@Feed.Name</a>
    </div>
    <div class="feed-items">
        @if (Feed.Items.Count == 0)
        {
            <WaitingPage Text="Loading..."/>
        }
        else
        {
            foreach (var item in Feed.Items)
            {
                <FeedItemThumbnail FeedItem=@item></FeedItemThumbnail>
            }
        }
    </div>
</div>

@code
{
    [Parameter]
    public Feed Feed {get; set; }

    protected override async Task OnInitializedAsync()
    {
        await FeedService.RefreshFeed(Feed);
    }
}
